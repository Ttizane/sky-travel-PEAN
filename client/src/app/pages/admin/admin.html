<div class="container mx-auto p-4 md:p-6 mt-4 bg-gradient-to-br from-blue-50 via-white to-sky-50 rounded-2xl border border-blue-100 shadow-2xl mb-4">
	<!-- Header -->
	<div class="hero bg-gradient-to-r from-blue-50 via-blue-100 to-sky-100 text-blue-900 rounded-xl mb-8 shadow-2xl border border-blue-200">
		<div class="hero-content text-center py-10">
			<div class="max-w-2xl">
				<h1 class="text-4xl font-bold mb-2">Dashboard Amministratore</h1>
				<p class="text-lg opacity-80">Gestione centrale utenti e compagnie</p>
			</div>
		</div>
	</div>

	<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
		<!-- Left Column - Viewers -->
		<div class="lg:col-span-2 space-y-6">

			<!-- Compagnie -->
			<div class="card bg-white border border-blue-100 shadow-2xl">
				<div class="card-body bg-gradient-to-br from-blue-50 via-white to-sky-50 rounded-2xl">
					<div class="flex justify-between items-center mb-4">
						<h2 class="card-title text-2xl text-blue-900">Compagnie</h2>
						<button class="btn bg-blue-600 hover:bg-blue-700 text-white border-0 shadow-lg btn-sm" (click)="openNuovaCompagnia()">
							<span class="mr-1">
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
									<path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
								</svg>
							</span>
							Nuova Compagnia
						</button>
					</div>

					<div class="overflow-x-auto border border-blue-200 rounded-lg shadow-sm" style="max-height: 300px; overflow-y: auto;">
						<table class="table table-zebra">
							<thead class="sticky top-0 bg-blue-50 z-10">
								<tr class="text-blue-900">
									<th>IATA</th>
									<th>Nome</th>
									<th>Paese</th>
									<th>Contatto</th>
								</tr>
							</thead>
							<tbody>
								@if (companies && companies.length > 0) {
									@for (c of companies; track c.codice_iata) {
										<tr>
											<td>
												<div class="font-bold">{{ c.codice_iata }}</div>
											</td>
											<td>
												<div class="font-semibold">{{ c.nome }}</div>
											</td>
											<td>
												<div class="font-semibold">{{ c.nazione }}</div>
											</td>
											<td>
												<div class="text-sm">{{ c.contatto || '-' }}</div>
											</td>
										</tr>
									}
								} @else {
									<tr>
										<td colspan="4" class="text-center py-8">
											<div class="text-blue-700">
												Nessuna compagnia presente
											</div>
										</td>
									</tr>
								}
							</tbody>
						</table>
					</div>
				</div>
			</div>

			<!-- Utenti -->
			<div class="card bg-white border border-blue-100 shadow-2xl">
				<div class="card-body bg-gradient-to-br from-blue-50 via-white to-sky-50 rounded-2xl">
					<div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4">
						<h2 class="card-title text-2xl text-blue-900">Utenti</h2>
						<div class="join w-full md:w-auto">
							<input
								class="input input-bordered join-item border-blue-200 focus:border-blue-500 bg-white w-full md:w-80"
								placeholder="Cerca per ID o Email"
								[value]="searchQuery"
								(input)="onSearchChange($event)"
							/>
							<button class="btn join-item bg-blue-600 hover:bg-blue-700 text-white border-0" (click)="clearSearch()">Reset</button>
						</div>
					</div>

					<div class="overflow-x-auto border border-blue-200 rounded-lg shadow-sm" style="max-height: 300px; overflow-y: auto;">
						<table class="table table-zebra">
							<thead class="sticky top-0 bg-blue-50 z-10">
								<tr class="text-blue-900">
									<th>ID</th>
									<th>Email</th>
									<th>Nome</th>
									<th>Ruolo</th>
								</tr>
							</thead>
							<tbody>
								@if (filteredUsers && filteredUsers.length > 0) {
									@for (u of filteredUsers; track u.id) {
										<tr>
											<td><div class="font-bold">{{ u.id }}</div></td>
											<td><div class="font-semibold">{{ u.email }}</div></td>
											<td><div class="text-sm">{{ u.nome || '-' }}</div></td>
											<td><div class="text-sm">{{ u.ruolo || 'utente' }}</div></td>
										</tr>
									}
								} @else {
									<tr>
										<td colspan="4" class="text-center py-8">
											<div class="text-blue-700">Nessun utente trovato</div>
										</td>
									</tr>
								}
							</tbody>
						</table>
					</div>
				</div>
			</div>

		</div>

		<!-- Right Column - Quick Stats -->
		<div class="space-y-6">
			<div class="card bg-white border border-blue-100 shadow-2xl">
				<div class="card-body bg-gradient-to-br from-blue-50 via-white to-sky-50 rounded-2xl">
					<h3 class="card-title mb-4 text-blue-900">Statistiche Rapide</h3>
					<div class="space-y-4">
						<div class="flex justify-between items-center">
							<span class="text-sm font-medium text-blue-800">Totale Compagnie</span>
							  <div class="text-sm font-medium text-blue-800">{{ companies.length || 0 }}</div>
						</div>
						<div class="flex justify-between items-center">
							<span class="text-sm font-medium text-blue-800">Totale Utenti</span>
							  <div class="text-sm font-medium text-blue-800">{{ users.length || 0 }}</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

